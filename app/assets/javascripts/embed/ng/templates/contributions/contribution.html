<div class="contribution row">
  <user-avatar id="{{contribution.owner_id}}"></user-avatar>
  <div class="content">

    <header>
      <div class="actions pull-right">
        <a class="reply" href ng-init="contributionActive = false" ng-click="contributionActive = !contributionActive" ng-show="{{contribution.parent_id == null}}">reply</a>
      </div>
      <user id="{{contribution.owner_id}}"></user>
      on {{contribution.created_at | date:'medium'}}
    </header>

    <div class="clearfix" ng-bind-html="contribution.content"></div>

    <div class="contributions">
      <div ng-repeat="contribution in contribution.contributions" ng-include="'contributions/contribution.html'"></div>

      <div ng-show="{{contribution.parent_id == null}}">
        <contribute ng-show="contributionActive" data-active="{{contributionActive}}" data-reply-to="{{contribution.id}}" data-reply-to-parent="{{contribution.parent_id}}" data-reply-to-author="{{user.name}}"></contribute>
      </div>
    </div>
  </div>
</div>

