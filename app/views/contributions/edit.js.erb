var selector = "#show-contribution-<%= @contribution.id %> <%= ".primary" unless @contribution.parent.present? %>";
$(selector+" .content").hide().before("<%= j render(partial: "contributions/form", locals: { contribution: @contribution }) %>");
$(selector+" .cancel").one("click", function(event) {
  event.preventDefault();
  $(selector+" .content").show();
  $("#show-contribution-<%= @contribution.id %> #edit_contribution_<%= @contribution.id %> .editable textarea").tinymce().remove();
  $("#show-contribution-<%= @contribution.id %> #edit_contribution_<%= @contribution.id %>").remove();
});
setTimeout(function() {
  $("#edit-contribution-content-<%= @contribution.id %>").trigger("focus");
}, 100);
