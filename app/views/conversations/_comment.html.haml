%li
  -# if postable is nil, that means this Comment doesn't have a matching Post record.
  -# Right now, in that case, we just skip the Comment. FIXME
  / A comment entry follows.
  - if postable
    .article.comment
      .meta
        .comment-type{:class=>postable.official ? "" : "unofficial"}=  "Official" if postable.official
        %a.rating(href="#" title="Rate this comment")=format_rating(postable)
        -if postable.person
          %img{:alt=>"Comment from #{postable.person.name}"}
          %p
            %a{:href=>person_path(postable), :title=>"#{postable.person.name}'s Profile"}
              %strong= postable.person.name
        -else
          %strong= 'An unknown person'
        %span.action commented:
      %p.content= postable.content
      %p
        - if person_signed_in?
          %a.text.button.conversation-action(href="#" title="Leave a comment") Leave a comment
        - if can_edit?(postable.person)
          %a(href="#" class="privileged" title="Delete this comment") Delete
    %ul
      - postable.posts.order('created_at DESC').each do |post|
        =render :partial => post.postable_type.downcase, :locals => { :postable => post.postable }
  
