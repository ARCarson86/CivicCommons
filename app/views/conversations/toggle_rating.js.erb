var $button = $('#contribution-<%= @contribution.id %>-rating-<%= @rating_descriptor.title %>');
$button.preventDefault();
<% unless @rating_group.errors.any? %>
  var $buttonSpan = $button.children('span.number');
  // if 'active', decrement number in button
  if( $button.hasClass('active') ) {
    $buttonSpan.text(parseInt($buttonSpan.text()) - 1)
  // else increment number
  } else {
    $buttonSpan.text(parseInt($buttonSpan.text()) + 1)
  }
  // toggle 'active' class
  $button.toggleClass('active');
  $('#actions-<%= @contribution.id %> > .mark .response-count').text(<%= @contribution.ratings_count %>);
<% else %>
  // popup error message
  alert('There was an problem.\n\n<%= @rating_group.errors.values.join('\n') %>');
<% end %>
